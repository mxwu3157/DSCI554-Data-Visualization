<!DOCTYPE html>
<html>

<head>
  <title>DSCI 554 Lab 2 ex1</title>
  <link href="./node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./style.css">

  <link rel="stylesheet" href="./github-dark-dimmed.min.css">
  <script src="./highlight.min.js"></script>
  <script>hljs.highlightAll();</script>

  <link href="node_modules/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>

<body>
  <h1>üêû Debugging Javascript</h1>

  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">Lab 2</a></li>
      <li class="breadcrumb-item active" aria-current="page">üêû Debugging Javascript</li>
    </ol>
  </nav>
  
  <h2>Demo</h2>
  We will demonstrate debugging the code in <a target="_blank" href="d3_line_chart">d3_line_chart</a> in two ways:
  <ol>
    <li>With Chrome DevTools and hot-reload (to refresh the page when making changes):
      <ol>
        <li>Start <code>Live Server</code> or <code>BrowserSync</code></li>
        <li>Open DevTools Console: <kbd>View ‚Üí Developer ‚Üí Developer Tools ‚Üí Console tab</kbd></li>
        <li>Open File to debug in DevTools: <kbd>View ‚Üí Developer ‚Üí Developer Tools ‚Üí Sources tab ‚Üí Open the file to
            debug</kbd></li>
        <li>Set breakpoints and reload the page</li>
      </ol>
    </li>
    <li>With VS Code and Chrome extension:
      <ol>
        <li><a target="_blank"
            href="https://code.visualstudio.com/blogs/2016/02/23/introducing-chrome-debugger-for-vs-code">Install
            Debugger for Chrome extension</a> (might not be required with latest VS Code)</li>
        <li>Set breakpoints in the <code>.js</code> file in VS Code clicking on the margin next to the line number</li>
        <li>Click <kbd>Run</kbd> button on the side bar</li>
        <li>Select launcher to run using the dropdown or create a new launcher in <code>launch.json</code></li>
        <li>Click <span style="color:green">‚ñ∑</li>
      </ol>
    </li>
  </ol>

  <div class="alert alert-info">
    <div class="mb-2">üí° <b>Using <code>console.log()</code></b></div>
    <div class="mt-2">You can print messages in different ways with <code>console.log()</code>:<br>
      <pre><code class="js">console.log('I like ' + food); //+ concatenates strings
console.log('I like', food) //, concatenates strings adding a space
console.log(`I like ${food}`); //using template literals</code></pre>
    </div>
    See <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">template literals documentation</a>
  </div>

  <h2>References:</h2>

  <div><a target="_blank" href="https://code.visualstudio.com/docs/editor/debugging">Debugging with VS Code</a></div>
  <div><a href="https://developers.google.com/web/tools/chrome-devtools/javascript/">DevTools: Debugging with Chrome</a>
  </div>
  <div><a href="https://code.visualstudio.com/blogs/2016/02/23/introducing-chrome-debugger-for-vs-code">Introducing Chrome Debugging for VS Code</a></div>

  <h1 class="mt-2">üêû ex1: Debugging Javascript variables</h1>

  Implement the sample code shown in the answer box in the page, fix the errors and use a combination of the two debugging methods to write the
  values of the primitive type variables (not functions, arrays and objects!) after they are assigned or when prompted.</li>

  <div class="answer">
    <cap>Answer</cap>

    <pre><code class="js">var v;  //variable declaration, v = undefined
      v = 'a';  //variable initialization, v = "a"
      var v = 'a';  //declaration with initialization, v  = "a"
      
      v  // v  = "a"
      console.log(`v = ${v}`);
      
      // Dynamic typing of primitive types
      var foo = true;       //Boolean
      console.log(`foo = ${foo}`);
      var foo = null;       //Null
      console.log(`foo = ${foo}`);
      var foo = undefined;  //Undefined
      console.log(`foo = ${foo}`);
      var foo = 2.3;        //Number
      console.log(`foo = ${foo}`);
      var foo = 'bar'       //String, specified using '' or ""
      console.log(`foo = ${foo}`);
      
      
      var arr = ['tree', 1765, {name: 'Joe'}, [0, 1, 2], 'üòé'];
      //console.log(`arr = ${arr}`);
      const a0 = arr[0];  //access first element in array (indices starts at 0)
      console.log(`a0 = ${a0}`);
      var s0 = JSON.stringify(arr);
      console.log(`s0 = ${s0}`);
      var s1 = JSON.parse(s0);
      console.log(`s1 = ${s1}`);
      
      var object = { first: 'Joseph', last: 'Priestley' };  //object literal
      //console.log(`object = ${object}`);
      var first0 = object.first;
      console.log(`first0 = ${first0}`);
      var first1 = object['first']; 
      console.log(`first1 = ${first1}`);   
      var name = object.first + ' ' + object.last;
      console.log(`name = ${name}`);
      
      var arr = [
      { date: '2019-01-01', value: 50 },
      { date: '2019-02-01', value: 65 },
      { date: '2019-03-01', value: 75 },
      { date: '2019-04-01', value: 45 },
      { date: '2019-05-01', value: 95 },
      ];
      //console.log(`arr = ${arr}`);
      
      var total = 0;
      for (i = 0; i < arr.length; i++) {  //for loop to iterate over an array
        total += arr[i].value;
      }
      console.log(`total = ${total}`);
      
      total = 0;
      for (const item of arr) {  //for loop to iterate over an array
        total += item.value;
      }
      console.log(`total = ${total}`);
      
      //print tota
      
      total = 0;
      arr.forEach(function(d) {  //forEach is another way to iterate over an array
        total += d.value;
      });
      console.log(`total = ${total}`);
      
      total = 0;
      arr.forEach((d) => {return total += d.value;}); //same with arrow function notation
      console.log(`total = ${total}`);
      //print total
      
      var arr2 = arr.map(d => { return { ...d, percent_value: d + '%'}} );
      //console.log(`arr2 = ${arr2}`);
      
      var condition = true;
      console.log(`condition = ${condition}`);
      if (true) {  //conditional statement
        res = 'True';
      } else {
        res = 'False';
      }
      console.log(`res = ${res}`);
      //same using ternary operator
      res = condition ? 'True' : 'False';
      console.log(`res = ${res}`);
      
      function add1(a, b) {   //function declaration
        return a + b;
      }
      
      var add2 = function (a, b) {  //function expression
        return a + b;
      }; 
      
      
      var sum1 = add2(add1(1, 2), 2);
      console.log(`sum1 = ${sum1}`);
          /code></pre>

    <!-- Implement the code above here -->
    <script>
var v;  //variable declaration, v = undefined
v = 'a';  //variable initialization, v = "a"
var v = 'a';  //declaration with initialization, v  = "a"

v  // v  = "a"
console.log(`v = ${v}`);

// Dynamic typing of primitive types
var foo = true;       //Boolean
console.log(`foo = ${foo}`);
var foo = null;       //Null
console.log(`foo = ${foo}`);
var foo = undefined;  //Undefined
console.log(`foo = ${foo}`);
var foo = 2.3;        //Number
console.log(`foo = ${foo}`);
var foo = 'bar'       //String, specified using '' or ""
console.log(`foo = ${foo}`);


var arr = ['tree', 1765, {name: 'Joe'}, [0, 1, 2], 'üòé'];
//console.log(`arr = ${arr}`);
const a0 = arr[0];  //access first element in array (indices starts at 0)
console.log(`a0 = ${a0}`);
var s0 = JSON.stringify(arr);
console.log(`s0 = ${s0}`);
var s1 = JSON.parse(s0);
console.log(`s1 = ${s1}`);

var object = { first: 'Joseph', last: 'Priestley' };  //object literal
//console.log(`object = ${object}`);
var first0 = object.first;
console.log(`first0 = ${first0}`);
var first1 = object['first']; 
console.log(`first1 = ${first1}`);   
var name = object.first + ' ' + object.last;
console.log(`name = ${name}`);

var arr = [
{ date: '2019-01-01', value: 50 },
{ date: '2019-02-01', value: 65 },
{ date: '2019-03-01', value: 75 },
{ date: '2019-04-01', value: 45 },
{ date: '2019-05-01', value: 95 },
];
//console.log(`arr = ${arr}`);

var total = 0;
for (i = 0; i < arr.length; i++) {  //for loop to iterate over an array
  total += arr[i].value;
}
console.log(`total = ${total}`);

total = 0;
for (const item of arr) {  //for loop to iterate over an array
  total += item.value;
}
console.log(`total = ${total}`);

//print tota

total = 0;
arr.forEach(function(d) {  //forEach is another way to iterate over an array
  total += d.value;
});
console.log(`total = ${total}`);

total = 0;
arr.forEach((d) => {return total += d.value;}); //same with arrow function notation
console.log(`total = ${total}`);
//print total

var arr2 = arr.map(d => { return { ...d, percent_value: d + '%'}} );
//console.log(`arr2 = ${arr2}`);

var condition = true;
console.log(`condition = ${condition}`);
if (true) {  //conditional statement
  res = 'True';
} else {
  res = 'False';
}
console.log(`res = ${res}`);
//same using ternary operator
res = condition ? 'True' : 'False';
console.log(`res = ${res}`);

function add1(a, b) {   //function declaration
  return a + b;
}

var add2 = function (a, b) {  //function expression
  return a + b;
}; 


var sum1 = add2(add1(1, 2), 2);
console.log(`sum1 = ${sum1}`);
    
    </script>

    <h3>Chrome DevTools screenshot</h3>
    <!-- Add screenshot of your Chrome Browser on this page with DevTools open -->
    <img style = "width: 1000px;; " src="img/ex1-1.jpg" />

    <h3>VS Code and Chrome debugging screenshot</h3>
    <!-- Add screenshot showing the VS Code debugger running stopped at a breakpoint on the code -->
    <img  style = "width: 1000px;" src="img/ex1-2.jpg" />
    <img style = "width: 1000px;" src="img/ex1-3.jpg" />
  </div>

  <div class="mt-3 text-end"><a  href="#"><i class="bi bi-arrow-up"></i> top</a></div>

</body>

</html>